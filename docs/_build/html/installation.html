

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation &#8212; OCS 0.4.3+43.g2afab1b documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="Observatory Control System (OCS)" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Observatory Control System (OCS)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OCS 0.4.3+43.g2afab1b documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li><a class="reference internal" href="#crossbar-io-installation-and-configuration">crossbar.io installation and configuration</a></li>
<li><a class="reference internal" href="#twisted-and-autobahn">twisted and autobahn</a></li>
<li><a class="reference internal" href="#id2">wampy</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Observatory Control System (OCS)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="quickstart.html"
                        title="next chapter">Quickstart</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>To install ocs simply clone the repository and use pip to install. We’ll assume
you do not have administrative rights on the system you are installing on. If
you do, feel free to remove the <code class="docutils literal notranslate"><span class="pre">--user</span></code> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">simonsobs</span><span class="o">/</span><span class="n">ocs</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">ocs</span><span class="o">/</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span> <span class="o">--</span><span class="n">user</span> <span class="o">.</span>
</pre></div>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://crossbar.io/">crossbar.io</a> is a WAMP router.</li>
<li><a class="reference external" href="https://crossbar.io/autobahn/">Autobahn</a> provides open-source implementations of WAMP.</li>
<li><a class="reference external" href="https://twistedmatrix.com/trac/">twisted</a> is used with Autobahn for networking.</li>
<li><a class="reference external" href="https://github.com/noisyboiler/wampy">wampy</a> is a non-asynchronus WAMP library providing RPC and Pub/Sub for
Python applications.</li>
</ul>
<p>All dependencies are automatically installed via the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file.
Below are details on each individual dependency.</p>
<div class="section" id="crossbar-io-installation-and-configuration">
<h3>crossbar.io installation and configuration<a class="headerlink" href="#crossbar-io-installation-and-configuration" title="Permalink to this headline">¶</a></h3>
<p>crossbar.io is a WAMP router.  The router runs on a single computer,
and accepts connections on a particular TCP port.  All WAMP clients
that want to talk to each other connect to that router (using the
hostname or IP address and the websocket port number).</p>
<p>Crossbar can be obtained from the Python package index.  That means
you can get it as easily as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">crossbar</span>
</pre></div>
</div>
<p>Alternately you can install into your per-user space with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">crossbar</span>
</pre></div>
</div>
<p>crossbar does not launch automatically; instead you can launch a
session by running <code class="docutils literal notranslate"><span class="pre">crossbar</span></code>.  The configuration file can be
specified at launch time; note that by default it will try to load
configuration from <code class="docutils literal notranslate"><span class="pre">./.crossbar/config.json</span></code>.  In the <code class="docutils literal notranslate"><span class="pre">example/</span></code>,
the Makefile command requests that crossbar load the configuration
from <code class="docutils literal notranslate"><span class="pre">./dot_crossbar/</span></code>.</p>
<p>When a client connects, it also specifies the “realm” that it wants to
belong to.  Only clients registering on the same realm will be able to
“see” and communicate with each other.  This means that a single
router can be used for multiple, disjoint purposes.</p>
<p>Security (such as TLS on the socket, or password authentication) can
be added to the crossbar configuration file.  This is not implemented
in the current example, so it should only be run in trusted
environments.</p>
</div>
<div class="section" id="twisted-and-autobahn">
<h3>twisted and autobahn<a class="headerlink" href="#twisted-and-autobahn" title="Permalink to this headline">¶</a></h3>
<p>twisted and autobahn are for asynchronous i/o and WAMP, respectively.
These are required to run an OCS Agent.  They are also required to run
asynchronous Control Clients, such as example_ctrl.py.  However, one
can write Control Clients instead using the simpler, non-asynchronous
WAMP library called <code class="docutils literal notranslate"><span class="pre">wampy</span></code>; see below.</p>
<p>To install autobahn and twisted, use <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">autobahn</span> <span class="n">twisted</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">autobahn</span> <span class="n">twisted</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>wampy<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>A simple, blocking Control Client can be written in python using only
the <code class="docutils literal notranslate"><span class="pre">wampy</span></code> library.  To get wampy, run one of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">wampy</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">wampy</span>
</pre></div>
</div>
<p>Such a client uses the module ocs.client_wampy.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quickstart.html" title="Quickstart"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Observatory Control System (OCS)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OCS 0.4.3+43.g2afab1b documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simons Observatory DAQ Group.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>